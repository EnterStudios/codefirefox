extends layout

block mainContent
  .card-container
    h1 User Stats
    p= 'Logged in as: ' + session.email
    if session.isAdmin
      p Administrator
    if session.isTrusted
      p Trusted account
    if (loginCount != 1)
      p= 'Logged in ' + (loginCount || 0) + ' times'
    else
      p Logged in 1 time
    p= 'Date joined: ' + info.dateJoined + ' ago'
    p= 'Date last logged in: ' + info.dateLastLogin + ' ago'
    //p= 'Last logged in IP: ' + info.lastLoginIP

  .card-container
    h1 Lessons Completed
    if videoSlugsWatched.length == 0
      p none
    else
      ul.videos
        each category in categories
          each video in category.videos
            if videoSlugsWatched.indexOf(video.slug) != -1
              if !video.type || video.type == 'video'
                li.video
                  a(href= '/video/' + video.slug, name= video.slug)
                    span.completed= video.title
              else
                li.exercise
                  a(href= '/exercise/' + video.slug, name= video.slug)
                    span.completed= video.title

    if session.isAdmin
      p
        a#del-stats(href="#") Delete stats data for your account

  if session.isTrusted
    .card-container
      h1 Server Stats
      p= 'Last server instance reset: ' + serverRunningSince + ' ago'
